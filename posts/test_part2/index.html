<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="[Test] part.2 Jest" /><meta property="og:locale" content="en" /><meta name="description" content="테스트 피라미드 3단계의 가장 밑바탕이되는 unit test를 먼저 시작한다." /><meta property="og:description" content="테스트 피라미드 3단계의 가장 밑바탕이되는 unit test를 먼저 시작한다." /><link rel="canonical" href="https://jooheekim0713.github.io/posts/test_part2/" /><meta property="og:url" content="https://jooheekim0713.github.io/posts/test_part2/" /><meta property="og:site_name" content="joohee Kim" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-09-04T21:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[Test] part.2 Jest" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-09-08T15:12:26+09:00","datePublished":"2022-09-04T21:00:00+09:00","description":"테스트 피라미드 3단계의 가장 밑바탕이되는 unit test를 먼저 시작한다.","headline":"[Test] part.2 Jest","mainEntityOfPage":{"@type":"WebPage","@id":"https://jooheekim0713.github.io/posts/test_part2/"},"url":"https://jooheekim0713.github.io/posts/test_part2/"}</script><title>[Test] part.2 Jest | joohee Kim</title><link rel="shortcut icon" href="/assets/img/favicons/song_favicon.png" /><meta name="apple-mobile-web-app-title" content="joohee Kim" /><meta name="application-name" content="joohee Kim" /><meta name="msapplication-TileColor" content="#da532c" /><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml" /><meta name="theme-color" content="#ffffff" /><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/song_circle.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">joohee Kim</a></div><div class="site-subtitle font-italic">software engineer upload posting what i learned</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/jooheekim0713" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['jooheekim.dev','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://www.linkedin.com/in/952a57240" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>[Test] part.2 Jest</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[Test] part.2 Jest</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1662292800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Sep 4, 2022 </em> </span> <span> Updated <em class="" data-ts="1662617546" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Sep 8, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/jooheekim0713">joohee Kim</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1709 words"> <em>9 min</em> read</span></div></div></div><div class="post-content"><p> 테스트 피라미드 3단계의 가장 밑바탕이되는 unit test를 먼저 시작한다.</p><h2 id="jest"><span class="mr-2">Jest</span><a href="#jest" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>자바스크립트에서 주로 사용되는 테스트 라이브러리이다.<li>create-react-app으로 react 프로젝트를 생성시 함께 설치되는 라이브러리이기 때문에 React 환경의 테스트를 앞서서 vailla javascript를 Jest로 테스트한다.</ul><h3 id="jest-환경설정"><span class="mr-2">Jest 환경설정</span><a href="#jest-환경설정" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li><p>Jest는 javascript 환경에서 사용해야하기 때문에 node js을 사용할 수 있도록 npm 환경을 설정한다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>npm init --yes
</pre></table></code></div></div><p>npm 환경설정이 완료되면 package.json파일이 생성되고</p><li><p>Jest 를 설치한다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>npm install jest --global
</pre></table></code></div></div><li><p>jest 시작 + jest.config.js 파일 설치</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>jest --init
</pre></table></code></div></div><p><a href="https://jestjs.io/docs/configuration">jest.config.js 관련 정보</a></p><li><p>jest 함수의 사용법을 쉽게 파악하기 위해 jest 타입을 설치한다. jest타입을 설치하면 package.json에 @types/jest dependency가 설치되고 jest관련 함수를 사용하고 ctrl + click(cursor)를 누르면 사용법을 확인할 수 있다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>npm install @types/jest
</pre></table></code></div></div><li><p>package.json에 jest script 추가</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>"scripts": {
    "test": "jest",
    "clear_jest": "jest --clearCache"
},
</pre></table></code></div></div><p><code>npm run test</code> 로 jest를 실행, <code>npm run clear_jest</code>로 기존의 jest 수행결과 cache를 삭제한다.</p></ol><h2 id="함수-테스트"><span class="mr-2">함수 테스트</span><a href="#함수-테스트" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>함수 테스트를 위해 <a href="https://jestjs.io/docs/mock-function-api#mockfnmockimplementationfn">mock 함수</a>을 사용한다.</p><blockquote><p>Mock functions are also known as “spies”, because they let you spy on the behavior of a function that is called indirectly by some other code, rather than only testing the output. You can create a mock function with jest.fn(). If no implementation is given, the mock function will return undefined when invoked.</p></blockquote><p>mock은 ‘스파이’라고 알려져있다. mock은 결과값을 테스트하는게 아니라 다른 함수로부터 간접적으로 불리는 함수의 행동을 감시한다. <code>jest.fn()</code>로 mock 함수를 만들 수 있고 implement 가 없으면 undefined를 return 한다.<br /></p><p>mock은 함수를 태스트하기 위해 가짜(mock)으로 함수를 대체하는 기법을 말한다.<br /> 일반적으로 테스트하려는 코드가 의존하는 부분을 직접 생성하기가 부담스러운 경우 mocking이 사용된다.</p><h3 id="checkjs"><span class="mr-2">check.js</span><a href="#checkjs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">check</span><span class="p">(</span><span class="nx">predicate</span><span class="p">,</span> <span class="nx">onSuccess</span><span class="p">,</span> <span class="nx">onFail</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">validate</span><span class="p">())</span> <span class="p">{</span>
    <span class="nx">onSuccess</span><span class="p">(</span><span class="dl">"</span><span class="s2">yes</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">onFail</span><span class="p">(</span><span class="dl">"</span><span class="s2">no</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">check</span><span class="p">;</span>
</pre></table></code></div></div><p> 함수를 정의하고 테스트하기 위해 export 설정을 한다.</p><h3 id="checktestjs"><span class="mr-2">check.test.js</span><a href="#checktestjs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>check.js 테스트하기위해 먼저 check.js를 import한다.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">check</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">../check</span><span class="dl">"</span><span class="p">);</span>
</pre></table></code></div></div><p>한 함수에서 다양한 상황을 테스트하기 위해 describe로 묶는다. 모든 테스트는 ‘check’라는 이름으로 묶인다.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nx">describe</span><span class="p">(</span><span class="dl">"</span><span class="s2">check</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="p">...</span>
<span class="p">});</span>
</pre></table></code></div></div><p>describe내부에서 각 테스트별로 테스트 시작전에 공통적으로 불리는 코드는 <a href="https://jestjs.io/docs/setup-teardown">beforeEach()</a>로 묶어서 재사용성을 높인다.<br /> it 혹은 test로 테스트할 상황을 정의하고 첫번째 인자로 상황을 정의하는 문장을 , 두번째 인자는 테스트 코드 함수를 받는다.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="nx">describe</span><span class="p">(</span><span class="dl">"</span><span class="s2">check</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">onSuccess</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">onFail</span><span class="p">;</span>

  <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">onSuccess</span> <span class="o">=</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">();</span>
    <span class="nx">onFail</span> <span class="o">=</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">();</span>
  <span class="p">});</span>


  <span class="nx">it</span><span class="p">(</span><span class="dl">"</span><span class="s2">should call onSuccess when validate is true</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="p">...</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="dl">"</span><span class="s2">should call onFail when validate is false</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="p">...</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></table></code></div></div><p>각 테스트 별로 check함수를 부르고 expect를 통해 기대하는 결과를 작성한다.<br /> 테스트 별로 기대하는 결과는 <a href="https://jestjs.io/docs/using-matchers">expect 함수의 matcher</a>를 사용해 테스트에 기대하는 결과값을 비교한다.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="c1">//it 혹은 test로 테스트할 상황을 정의하고 첫번째 인자로 상황을 정의하는 문장을 , 두번째 인자는 테스트 코드 함수를 받는다.</span>
<span class="nx">it</span><span class="p">(</span><span class="dl">"</span><span class="s2">should call onSuccess when validate is true</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">check</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">onSuccess</span><span class="p">,</span> <span class="nx">onFail</span><span class="p">);</span>

  <span class="c1">//expect(onSuccess.mock.calls.length).toBe(1);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">onSuccess</span><span class="p">).</span><span class="nx">toHaveBeenCalledTimes</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

  <span class="c1">//expect(onSuccess.mock.calls[0][0]).toBe('yes');</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">onSuccess</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="dl">"</span><span class="s2">yes</span><span class="dl">"</span><span class="p">);</span>

  <span class="c1">//expect(onFail.mock.calls.length).toBe(0);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">onFail</span><span class="p">).</span><span class="nx">toHaveBeenCalledTimes</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">it</span><span class="p">(</span><span class="dl">"</span><span class="s2">should call onFail when validate is false</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">check</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">onSuccess</span><span class="p">,</span> <span class="nx">onFail</span><span class="p">);</span>

  <span class="c1">//expect(onFail.mock.calls.length).toBe(1);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">onFail</span><span class="p">).</span><span class="nx">toHaveBeenCalledTimes</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

  <span class="c1">//expect(onFail.mock.calls[0][0]).toBe('no');</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">onFail</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="dl">"</span><span class="s2">no</span><span class="dl">"</span><span class="p">);</span>

  <span class="c1">//expect(onSuccess.mock.calls.length).toBe(0);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">onSuccess</span><span class="p">).</span><span class="nx">toHaveBeenCalledTimes</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">});</span>
</pre></table></code></div></div><h3 id="fail하도록-수정한-코드"><span class="mr-2">fail하도록 수정한 코드</span><a href="#fail하도록-수정한-코드" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><img data-src="/assets/img/check_test_validate_false.png" alt="check.test.js의 validate 코드가 fail이 되도록 수정한 코드" data-proofer-ignore></p><h3 id="fail-결과-캡쳐화면"><span class="mr-2">fail 결과 캡쳐화면</span><a href="#fail-결과-캡쳐화면" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><img data-src="/assets/img/check_test_fail.png" alt="check.test.js의 fail 결과 화면" data-proofer-ignore></p><p> 테스트에서 기대하는 결과가 나오지 않으면 fail과 함께 should call onSuccess when predicate is true테스트에서 틀렸다는 것을 확인할 수 있다.<br /> 테스트 코드는 의도된 대로 작성되었지만 구현 코드가 잘못되어 실패했다면 테스트가 통과할 때까지 구현 코드를 수정한다.</p><h2 id="클래스-테스트"><span class="mr-2">클래스 테스트</span><a href="#클래스-테스트" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="user_servicejs"><span class="mr-2">user_service.js</span><a href="#user_servicejs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nx">UserService</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">userClient</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">userClient</span> <span class="o">=</span> <span class="nx">userClient</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">isLogedIn</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">login</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">password</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isLogedIn</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">userClient</span>
        <span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">password</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isLogedIn</span> <span class="o">=</span> <span class="kc">true</span><span class="p">));</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">UserService</span><span class="p">;</span>
</pre></table></code></div></div><p>기존의 코드는 user_service.js 내부에 fetch 함수로 데이터를 받아왔다. 하지만 네트워크에 의존하는 코드는 mock 또는 stub으로 따로 테스트를 하기위해 UserClient클래스로 분리한다. 그리고 UserService 클래스에서는 userClient에 분리된 함수가 네트워크연결되어 데이터를 받아 올 경우 login 상태를 true로 변경한다.</p><h3 id="user_clientjs"><span class="mr-2">user_client.js</span><a href="#user_clientjs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nx">UserClient</span> <span class="p">{</span>
  <span class="nx">login</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">password</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">http://example.com/login/id+password</span><span class="dl">"</span><span class="p">)</span> <span class="c1">//</span>
      <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">UserClient</span><span class="p">;</span>
</pre></table></code></div></div><p>UserClient 클래스 내부에 비동기 login함수를 만들고 데이터를 받아온다.</p><h3 id="user_servicetestjs"><span class="mr-2">user_service.test.js</span><a href="#user_servicetestjs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">UserService</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">../user_service</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">UserClient</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">../user_client</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">jest</span><span class="p">.</span><span class="nx">mock</span><span class="p">(</span><span class="dl">"</span><span class="s2">../user_client</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">"</span><span class="s2">UserService</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">login</span> <span class="o">=</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">);</span>
  <span class="c1">//UserClient에서 login함수를 불러온다.</span>
  <span class="nx">UserClient</span><span class="p">.</span><span class="nx">mockImplementation</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">login</span><span class="p">,</span>
    <span class="p">};</span>
  <span class="p">});</span>

  <span class="kd">let</span> <span class="nx">userService</span><span class="p">;</span>

  <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">userService</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">UserService</span><span class="p">(</span><span class="k">new</span> <span class="nx">UserClient</span><span class="p">());</span>
    <span class="c1">// login.mockClear();</span>
    <span class="c1">// UserClient.mockClear();</span>
    <span class="c1">//jest config clearMocks: true 설정을 해놔서 mockClear를 안해도 됨</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="dl">"</span><span class="s2">calls login on UserClient when tries to login</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">userService</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="dl">"</span><span class="s2">abc</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">abc</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">login</span><span class="p">).</span><span class="nx">toHaveBeenCalledTimes</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="dl">"</span><span class="s2">should not call login() on UserClient again if already logged in</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//기존에 로그인 되어있다면  로그인을 시도해도 login 함수가 한번 불려진다.</span>
    <span class="k">await</span> <span class="nx">userService</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="dl">"</span><span class="s2">abc</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">abc</span><span class="dl">"</span><span class="p">);</span>
    <span class="k">await</span> <span class="nx">userService</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="dl">"</span><span class="s2">abc</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">abc</span><span class="dl">"</span><span class="p">);</span>

    <span class="nx">expect</span><span class="p">(</span><span class="nx">login</span><span class="p">).</span><span class="nx">toHaveBeenCalledTimes</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></table></code></div></div><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1">// All imported modules in your tests should be mocked automatically</span>
  <span class="c1">// automock: false,</span>

  <span class="c1">// Stop running tests after `n` failures</span>
  <span class="c1">// bail: 0,</span>

  <span class="c1">// The directory where Jest should store its cached dependency information</span>
  <span class="c1">// cacheDirectory: "C:\\Users\\jooheek\\AppData\\Local\\Temp\\jest",</span>

  <span class="c1">// 모든 테스트가 시작하기 전에 mock call, instance, context, result를 모두 리셋해주는 설정이다.</span>
  <span class="na">clearMocks</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>

  <span class="c1">// 테스트 가 얼마나 코드를 cover하는지 수치를 보여주는 설정이다.</span>
  <span class="na">collectCoverage</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="p">};</span>
</pre></table></code></div></div><p>jest.config.js에서 테스트 간의 mock함수 독립성을 위해 clearMocks 설정을 true로, <br /> 테스트 결과를 간결하게 보기 위해 <code>npm run test</code>하면 항상 나왔던 프로젝트 당 coverage를 false로 설정한다.</p><p>💡참고</p><ul><li><a href="https://www.daleseo.com/jest-fn-spy-on/">[Jest] jest.fn(), jest.spyOn() 함수 모킹</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/test/'>Test</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/test/" class="post-tag no-text-decoration" >Test</a> <a href="/tags/jest/" class="post-tag no-text-decoration" >Jest</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%5BTest%5D+part.2+Jest+-+joohee+Kim&url=https%3A%2F%2Fjooheekim0713.github.io%2Fposts%2Ftest_part2%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%5BTest%5D+part.2+Jest+-+joohee+Kim&u=https%3A%2F%2Fjooheekim0713.github.io%2Fposts%2Ftest_part2%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fjooheekim0713.github.io%2Fposts%2Ftest_part2%2F&text=%5BTest%5D+part.2+Jest+-+joohee+Kim" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/typescript101_part1/">[Typescript] 타입스크립트 도입 시작</a><li><a href="/posts/test_part2/">[Test] part.2 Jest</a><li><a href="/posts/react_hooks/">[React] useRef, useHistory</a><li><a href="/posts/react_performance_optimization/">[React] PureComponent, memo</a><li><a href="/posts/test_part1/">[Test] part.1 Test Pyramid</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/js/">JS</a> <a class="post-tag" href="/tags/javascript/">Javascript</a> <a class="post-tag" href="/tags/css/">CSS</a> <a class="post-tag" href="/tags/react/">React</a> <a class="post-tag" href="/tags/refactoring/">refactoring</a> <a class="post-tag" href="/tags/%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81/">리팩터링</a> <a class="post-tag" href="/tags/html/">HTML</a> <a class="post-tag" href="/tags/typescript/">Typescript</a> <a class="post-tag" href="/tags/react-js/">React JS</a> <a class="post-tag" href="/tags/ts/">TS</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/typescript101_part1/"><div class="card-body"> <em class="small" data-ts="1663055760" data-df="ll" > Sep 13, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Typescript] 타입스크립트 도입 시작</h3><div class="text-muted small"><p> 타입스크립트를 배우게된 이유 자바스크립트로 코드를 짜면서 런타임 에러를 너무나 자주 만나게 됐다. 있어서는 안되는 입력되는 데이터 형식의 오류를 막을 수 있다. JS는 동적타입언어고 TS는 JS에 타입이 정해진 superset으로 정적타입언어로 컴파일시 타입에러를 잡을 수 있다. 타입스크립트를 사용해야하는 이유 위에서 말했던 바와...</p></div></div></a></div><div class="card"> <a href="/posts/test_part1/"><div class="card-body"> <em class="small" data-ts="1662084000" data-df="ll" > Sep 2, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Test] part.1 Test Pyramid</h3><div class="text-muted small"><p> 많은 프로젝트에서 TDD를 도입하고 있고, JD에도 TDD 주도 개발을 경험해본 인재를 찾기에 테스트 주도 개발이란 무엇인지 궁금해졌다. 궁금한건 못참기 때문에 역시나 궁금증을 풀기위해 테스트에 발을 담가보았다. 그리고 이번 기회에 아직 테스트를 실전 프로젝트에서 사용해보지 못해 부족한 부분도 많겠지만 드디어 테스트에 대한 개념정리와 테스트를 해야하...</p></div></div></a></div><div class="card"> <a href="/posts/react_performance_optimization/"><div class="card-body"> <em class="small" data-ts="1661911200" data-df="ll" > Aug 31, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[React] PureComponent, memo</h3><div class="text-muted small"><p> React Virtual DOM React는 Component에 관련된 state, props이 변경되는 경우 랜더가 호출된다. state, prop이 변경되면 메모리상에 존재하는 Virtual DOM tree에 이전의 prop과 state로 구현된 tree와 새로 구현된 tree를 비교해서 변경된 부분만 DOM에 업데이트한다. 문제는 변경...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/test_part1/" class="btn btn-outline-primary" prompt="Older"><p>[Test] part.1 Test Pyramid</p></a> <a href="/posts/typescript101_part1/" class="btn btn-outline-primary" prompt="Newer"><p>[Typescript] 타입스크립트 도입 시작</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://jooheekim0713.github.io/posts/test_part2/'; this.page.identifier = '/posts/test_part2/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://jooheekim0713-github-io.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/jooheekim0713">joohee Kim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/js/">JS</a> <a class="post-tag" href="/tags/javascript/">Javascript</a> <a class="post-tag" href="/tags/css/">CSS</a> <a class="post-tag" href="/tags/react/">React</a> <a class="post-tag" href="/tags/refactoring/">refactoring</a> <a class="post-tag" href="/tags/%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81/">리팩터링</a> <a class="post-tag" href="/tags/html/">HTML</a> <a class="post-tag" href="/tags/typescript/">Typescript</a> <a class="post-tag" href="/tags/react-js/">React JS</a> <a class="post-tag" href="/tags/ts/">TS</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
